# OpenBioCard Server

âœ¨ Standalone high-performance backend implementation for OpenBioCard âœ¨

> Note: This project is not affiliated with OpenBioCard official.

![.NET](https://img.shields.io/badge/.NET-8.0%2B-512BD4?logo=dotnet)
![Docker](https://img.shields.io/badge/Docker-Supported-2496ED?logo=docker)
![License](https://img.shields.io/badge/license-MIT-green)

[ç®€ä½“ä¸­æ–‡](./README.zh-CN.MD) | [ğŸ“š API Documentation](./DOCUMENTS.MD)

## ğŸ“‹ Table of Contents

- [Project Introduction](#-project-introduction)
- [Features](#-features)
- [Feature Differences](#-feature-differences)
- [Quick Start](#-quick-start)
- [Environment Configuration](#-environment-configuration)
- [Deployment Guide](#-deployment-guide)
- [Project Structure](#-project-structure)
- [Tech Stack](#-tech-stack)
- [License](#-license)

## ğŸŒŸ Project Introduction

**OpenBioCard Server** is a standalone backend solution for the [OpenBioCard](https://github.com/OpenBioCard/OpenBioCard/) ecosystem.

Unlike the original implementation based on Cloudflare Workers, this project is built on **C# ASP.NET Core**, designed specifically for traditional servers, VPS, or containerized deployments (Docker/Kubernetes).

It provides a RESTful API compatible with the OpenBioCard frontend, allowing you to fully control your data on your own infrastructure using SQLite or PostgreSQL.

## âœ¨ Features

- ğŸš€ **High Performance** - Built on the ultra-fast ASP.NET Core framework.
- ğŸ’¾ **Flexible Storage** - Supports **SQLite** by default in development, and **PostgreSQL** in production.
- ğŸ³ **Containerized** - Full Docker support for easy and seamless deployment.
- ğŸ“„ **OpenAPI Support** - Native Swagger/OpenAPI integration for convenient API debugging.
- ğŸ› ï¸ **Cross-Platform** - Runs on all .NET-supported platforms including Linux, Windows, and macOS.

## âš ï¸ Feature Differences

> **Note on Feature Completeness:**
>
> Due to incomplete upstream API documentation, certain specific fields (such as **Education Background**, **School Experience**, etc.) currently do not support saving.

> **Note on Independent APIs:**
>
> Additionally, this project includes independent APIs not present in the upstream project, designed to extend functionality and enhance security.

## ğŸš€ Quick Start

### Prerequisites

- **.NET SDK**: 8.0 or higher
- **Database**: PostgreSQL (optional, SQLite is used by default in development)

### Local Development

1. **Clone the repository**

2. **Check Configuration**
   The project uses `appsettings.Development.json` by default.
   ```json
   // appsettings.Development.json
   "ConnectionStrings": {
     "DefaultConnection": "Data Source=development.db"
   }
   ```

3. **Run the Application**
   ```bash
   dotnet run
   ```
   The server will start at `http://localhost:5046` (or the configured port).

4. **Access Swagger UI**
   Visit `http://localhost:5046/swagger` to view API documentation and debug.

## âš™ï¸ Environment Configuration

Configuration is managed via `appsettings.json` or environment variables.

| Setting | Environment Variable Key | Description |
| :--- | :--- | :--- |
| `ConnectionStrings:DefaultConnection` | `ConnectionStrings__DefaultConnection` | Database connection string (Postgres) or file path (SQLite). |
| `AuthSettings:RootUsername` | `AuthSettings__RootUsername` | System admin username. |
| `AuthSettings:RootPassword` | `AuthSettings__RootPassword` | **Required**. System admin password. |
| `CorsSettings:AllowedOrigins` | `CorsSettings__AllowedOrigins` | List of allowed frontend domains (comma-separated). |
| `AppSettings::Version` | `AppSettings__Version` | Server version name returned to the frontend by `/check-backend`. |

## ğŸ—ï¸ Deployment Guide

### Option 1: Docker Compose (Recommended)

This is the easiest way to deploy both the server and a PostgreSQL database.

### Option 2: Manual Deployment (Linux)

1. **Publish the application:**
   ```bash
   dotnet publish -c Release -o ./publish
   ```
2. **Upload files** to your server directory.
3. **Set environment variables** to configure the production database connection.
4. **Run:** `dotnet OpenBioCardServer.dll`

## ğŸ“ Project Structure

```
OpenBioCardServer/
â”œâ”€â”€ Controllers/      # API controllers
â”œâ”€â”€ Data/             # EF Core context and migrations
â”œâ”€â”€ Models/           # Database entity models
â”œâ”€â”€ Services/         # Business logic (Auth, User, Admin)
â”œâ”€â”€ Program.cs        # Application entry and dependency injection setup
â”œâ”€â”€ appsettings.json  # Configuration file
â””â”€â”€ Dockerfile        # Container build file
```

## ğŸ› ï¸ Tech Stack

- **Framework:** .NET 8 / ASP.NET Core
- **ORM:** Entity Framework Core
- **Database:** PostgreSQL (Npgsql) / SQLite
- **Documentation:** Microsoft.AspNetCore.OpenApi

## ğŸ“„ License

This project is licensed under the MIT License.

---
